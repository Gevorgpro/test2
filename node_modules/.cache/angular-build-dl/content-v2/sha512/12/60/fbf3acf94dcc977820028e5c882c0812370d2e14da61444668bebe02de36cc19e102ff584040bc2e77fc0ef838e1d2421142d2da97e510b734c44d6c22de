{"version":3,"sources":["src/app/components/chat-bubble/chat-bubble.component.html","src/app/pages/chat/chat.page.html","src/app/components/chat-bubble/chat-bubble.component.scss","src/app/components/chat-bubble/chat-bubble.component.ts","src/app/pages/chat/chat-routing.module.ts","src/app/pages/chat/chat.module.ts","src/app/pages/chat/chat.page.scss","src/app/pages/chat/chat.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<!--       <div style=\\\"position: sticky;top:0;background: #ccc;height: 40px;width: 100%;text-align: center;line-height: 40px;z-index: 999999\\\">\\n        hello world\\n    </div> -->\\n    \\n  <div class=\\\"chatBubble\\\" >\\n\\n    <div class=\\\"chat-bubble {{getClass(message, user)}}\\\">\\n\\n<!--       <div *ngIf=\\\"message.body.indexOf('.gif') < 0\\\" class=\\\"message\\\" >{{message.body}}</div>\\n\\n      <div *ngIf=\\\"message.body.indexOf('.gif') > -1\\\" class=\\\"message\\\"> <img (load)=\\\"scrollToBottom()\\\" imageViewer  src=\\\"{{message.body}}\\\"></div> -->\\n\\n    \\t  <div *ngIf=\\\"message.body.indexOf('.gif') < 0\\\" class=\\\"message\\\">{{message.body}}<div class=\\\"time\\\">{{message.createdAt.toDate() | date: ' hh:mm a'}}</div> </div>\\n\\n    \\t  <div *ngIf=\\\"message.body.indexOf('.gif') > -1\\\" class=\\\"message\\\"> <img (load)=\\\"scrollToBottom()\\\" imageViewer  src=\\\"{{message.body}}\\\"><div class=\\\"time\\\">{{message.createdAt.toDate() | date: ' hh:mm a'}}</div> </div>\\n    </div>\\n  </div>\"","export default \"<ion-header no-border>\\n    <ion-toolbar color=\\\"red\\\" style=\\\"padding-top:20px !important;\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>{{name}}</ion-title>\\n<!--         <ion-buttons slot=\\\"end\\\">\\n            <ion-button (click)=\\\"update()\\\">\\n                <ion-icon slot=\\\"icon-only\\\" color=\\\"light\\\" name=\\\"md-more\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons> -->\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content style=\\\"background-image: url(assets/imgs/chatbg.jpg)\\\">\\n  <ion-item-group no-lines>\\n\\n<div *ngFor=\\\"let key of keys\\\">\\n    <ion-item-divider style=\\\"margin-bottom:35px;text-align: center;opacity: 0.5;\\\" color=\\\"light\\\" sticky>{{getDate(key)  | date:'dd MMMM, yyyy'}}</ion-item-divider>\\n    \\n    <ion-item *ngFor=\\\"let msg of grouped[key]\\\" style=\\\"background:transparent;\\\" lines=\\\"none\\\">\\n\\n<!-- <app-chat-bubble></app-chat-bubble> -->\\n      <app-chat-bubble style=\\\"width: 100%;\\\" [allMessage]=\\\"grouped[key]\\\" [message]=\\\"msg\\\" [user]=\\\"user.uid\\\"></app-chat-bubble>\\n    </ion-item>\\n</div>\\n  </ion-item-group>\\n\\n</ion-content>\\n\\n<!-- <ion-footer> -->\\n<ion-footer no-border style=\\\"border-top: 3px solid red;background: #ffffff;\\\">\\n  <ion-row>\\n    <!--       <ion-col col-2 style=\\\"padding: 0px;padding-top: 4px;\\\">\\n        <button ion-button clear icon-only item-right\\n                (click)=\\\"switchEmojiPicker()\\\" >\\n          <ion-icon  name=\\\"md-happy\\\"></ion-icon>\\n        </button>\\n      </ion-col> -->\\n    <ion-col size=\\\"10\\\">\\n      <ion-textarea #myInput rows=\\\"1\\\" (keyup)=\\\"resize()\\\" #chat_input placeholder=\\\"Write a message...\\\" [(ngModel)]=\\\"editorMsg\\\" (keyup.enter)=\\\"sendMsg()\\\" (ngModelChange)=\\\"textChange()\\\" style=\\\"color: #797b7e;text-align: left !important;\\\"></ion-textarea>\\n    </ion-col>\\n    <ion-col size=\\\"2\\\">\\n      <button ion-button clear icon-only item-right (click)=\\\"sendMsg()\\\">\\n        <ion-icon name=\\\"md-send\\\" color=\\\"valencia\\\"></ion-icon>\\n      </button>\\n    </ion-col>\\n  </ion-row>\\n  <!-- <emoji-picker *ngIf=\\\"_isOpenEmojiPicker\\\" [(ngModel)]=\\\"editorMsg\\\"></emoji-picker> -->\\n</ion-footer>\\n\"","export default \"@charset \\\"UTF-8\\\";\\nimg.profile-pic {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  position: absolute;\\n  bottom: 15px;\\n}\\nimg.profile-pic.left {\\n  left: 10px;\\n}\\nimg.profile-pic.right {\\n  right: 10px;\\n}\\n.message {\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  font-size: 16px;\\n}\\n.message-detail {\\n  white-space: nowrap;\\n  font-size: 14px;\\n}\\n.chat-bubble {\\n  border-radius: 5px;\\n  display: inline-block;\\n  padding: 6px 18px;\\n  position: relative;\\n  margin: 7px 5px 10px 5px;\\n  max-width: 80%;\\n  font-size: 14px;\\n}\\n.chat-bubble:before {\\n  content: \\\" \\\";\\n  display: block;\\n  height: 16px;\\n  width: 9px;\\n  position: absolute;\\n  bottom: -7.5px;\\n}\\n.chat-bubble.left {\\n  background-color: #f6f6f6;\\n  float: left;\\n  color: #2574a9;\\n  margin-bottom: 35px;\\n}\\n.chat-bubble.leftb {\\n  background-color: #f6f6f6;\\n  float: left;\\n  color: #2574a9;\\n}\\n.chat-bubble.left:before {\\n  background-color: #f6f6f6;\\n  left: 10px;\\n  -webkit-transform: rotate(65deg) skew(5deg);\\n}\\n.chat-bubble.right {\\n  background-color: #cccccc;\\n  color: #000;\\n  float: right;\\n  margin-bottom: 35px;\\n}\\n.chat-bubble.rightb {\\n  background-color: #cccccc;\\n  color: #000;\\n  float: right;\\n}\\n.chat-bubble.right:before {\\n  background-color: #cccccc;\\n  right: 10px;\\n  -webkit-transform: rotate(115deg) skew(-5deg);\\n}\\n.chat-bubble.right a.autolinker {\\n  color: #000;\\n  font-weight: bold;\\n}\\n.time {\\n  float: right;\\n  padding: 5px;\\n  font-size: 12px;\\n  color: #777;\\n}\\n.label-md, .label-md {\\n  margin: 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jaGF0LWJ1YmJsZS9jaGF0LWJ1YmJsZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9jaGF0LWJ1YmJsZS9DOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEFtb3JlRGF0aW5nQXBwXFxzb3VyY2Uvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGNoYXQtYnViYmxlXFxjaGF0LWJ1YmJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNFaEI7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FEQUo7QUNHRTtFQUNFLFVBQUE7QURBSjtBQ0dFO0VBQ0UsV0FBQTtBREFKO0FDR0U7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtBREFKO0FDR0U7RUFDRSxtQkFBQTtFQUNBLGVBQUE7QURBSjtBQ0dFO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FEQUo7QUNHRTtFQUNFLFlBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QURBSjtBQ0dFO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FEQUo7QUNLRTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QURGSjtBQ09FO0VBQ0UseUJBQUE7RUFDQSxVQUFBO0VBQ0EsMkNBQUE7QURKSjtBQ09FO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0FESko7QUNVRTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QURQSjtBQ1lFO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsNkNBQUE7QURUSjtBQ1lFO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0FEVEo7QUNZRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QURUSjtBQ1lBO0VBQ0ksc0JBQUE7QURUSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2hhdC1idWJibGUvY2hhdC1idWJibGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG5pbWcucHJvZmlsZS1waWMge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAxNXB4O1xufVxuXG5pbWcucHJvZmlsZS1waWMubGVmdCB7XG4gIGxlZnQ6IDEwcHg7XG59XG5cbmltZy5wcm9maWxlLXBpYy5yaWdodCB7XG4gIHJpZ2h0OiAxMHB4O1xufVxuXG4ubWVzc2FnZSB7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5tZXNzYWdlLWRldGFpbCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNoYXQtYnViYmxlIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDZweCAxOHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbjogN3B4IDVweCAxMHB4IDVweDtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNoYXQtYnViYmxlOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiwqBcIjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMTZweDtcbiAgd2lkdGg6IDlweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IC03LjVweDtcbn1cblxuLmNoYXQtYnViYmxlLmxlZnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xuICBmbG9hdDogbGVmdDtcbiAgY29sb3I6ICMyNTc0YTk7XG4gIG1hcmdpbi1ib3R0b206IDM1cHg7XG59XG5cbi5jaGF0LWJ1YmJsZS5sZWZ0YiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7XG4gIGZsb2F0OiBsZWZ0O1xuICBjb2xvcjogIzI1NzRhOTtcbn1cblxuLmNoYXQtYnViYmxlLmxlZnQ6YmVmb3JlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjZmNjtcbiAgbGVmdDogMTBweDtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg2NWRlZykgc2tldyg1ZGVnKTtcbn1cblxuLmNoYXQtYnViYmxlLnJpZ2h0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcbiAgY29sb3I6ICMwMDA7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLWJvdHRvbTogMzVweDtcbn1cblxuLmNoYXQtYnViYmxlLnJpZ2h0YiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2NjY2M7XG4gIGNvbG9yOiAjMDAwO1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5jaGF0LWJ1YmJsZS5yaWdodDpiZWZvcmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xuICByaWdodDogMTBweDtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxMTVkZWcpIHNrZXcoLTVkZWcpO1xufVxuXG4uY2hhdC1idWJibGUucmlnaHQgYS5hdXRvbGlua2VyIHtcbiAgY29sb3I6ICMwMDA7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4udGltZSB7XG4gIGZsb2F0OiByaWdodDtcbiAgcGFkZGluZzogNXB4O1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjNzc3O1xufVxuXG4ubGFiZWwtbWQsIC5sYWJlbC1tZCB7XG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XG59IiwiXHJcbiAgICBcclxuaW1nLnByb2ZpbGUtcGljIHtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuXHJcbiAgaW1nLnByb2ZpbGUtcGljLmxlZnQge1xyXG4gICAgbGVmdDogMTBweDtcclxuICB9XHJcblxyXG4gIGltZy5wcm9maWxlLXBpYy5yaWdodCB7XHJcbiAgICByaWdodDogMTBweDtcclxuICB9XHJcblxyXG4gIC5tZXNzYWdlIHtcclxuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICB9XHJcblxyXG4gIC5tZXNzYWdlLWRldGFpbCB7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gIH1cclxuXHJcbiAgLmNoYXQtYnViYmxlIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHBhZGRpbmc6IDZweCAxOHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbWFyZ2luOiA3cHggNXB4IDEwcHggNXB4O1xyXG4gICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG5cclxuICAuY2hhdC1idWJibGU6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IFwiXFwwMGEwXCI7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGhlaWdodDogMTZweDtcclxuICAgIHdpZHRoOiA5cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IC03LjVweDtcclxuICB9XHJcblxyXG4gIC5jaGF0LWJ1YmJsZS5sZWZ0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIGNvbG9yOiMyNTc0YTk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzNXB4O1xyXG4gIC8vIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggMXB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gIC8vIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICB9XHJcblxyXG4gIC5jaGF0LWJ1YmJsZS5sZWZ0YiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBjb2xvcjojMjU3NGE5O1xyXG4gIC8vIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggMXB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gIC8vIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICB9XHJcblxyXG4gIC5jaGF0LWJ1YmJsZS5sZWZ0OmJlZm9yZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2O1xyXG4gICAgbGVmdDogMTBweDtcclxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoNjVkZWcpIHNrZXcoNWRlZyk7XHJcbiAgfVxyXG5cclxuICAuY2hhdC1idWJibGUucmlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzVweDtcclxuICAvLyAtd2Via2l0LWJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICAvLyBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcblxyXG4gIH1cclxuXHJcbiAgLmNoYXQtYnViYmxlLnJpZ2h0YiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgLy8gLXdlYmtpdC1ib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbiAgLy8gYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAzcHggMXB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gIH1cclxuXHJcbiAgLmNoYXQtYnViYmxlLnJpZ2h0OmJlZm9yZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xyXG4gICAgcmlnaHQ6IDEwcHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDExNWRlZykgc2tldygtNWRlZyk7XHJcbiAgfVxyXG5cclxuICAuY2hhdC1idWJibGUucmlnaHQgYS5hdXRvbGlua2VyIHtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG5cclxuICAudGltZSB7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBjb2xvcjogIzc3NztcclxuICB9XHJcbiAgXHJcbi5sYWJlbC1tZCwubGFiZWwtbWQge1xyXG4gICAgbWFyZ2luOiAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuIl19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Events } from '@ionic/angular';\n\n@Component({\n  selector: 'app-chat-bubble',\n  templateUrl: './chat-bubble.component.html',\n  styleUrls: ['./chat-bubble.component.scss'],\n})\nexport class ChatBubbleComponent implements OnInit {\n    @Input() message: any= {};\n    @Input() allMessage: any= [];\n    @Input() user: any;\n    image: boolean = false; \n\n  constructor(\n  \tpublic events: Events\n  \t) { }\n\n  ngOnInit() {}\n\n\n  scrollToBottom(){\n  \tthis.events.publish('scrollToBottom')\n  }\n\ngetClass(message, user){\n  let index = this.allMessage.indexOf(message);\n  // let a = this.allMessage.filter(res => res.)\n  //console.log('message ',message)\n  if(message.sender == user)\n  {\n    if(this.allMessage[index+1])\n    {\n   if(this.allMessage[index].sender == this.allMessage[index+1].sender)\n     return 'rightb'\n   else\n      return 'right' \n    }\n    else\n    {\n      return 'right' \n    }\n  }\n  else\n  {\n    if(this.allMessage[index+1])\n    {\n   if(this.allMessage[index].receiver == this.allMessage[index+1].receiver)\n     return 'leftb'\n   else\n      return 'left' \n    }\n    else\n    {\n      return 'left' \n    }\n  }\n}\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPageRoutingModule } from './chat-routing.module';\nimport { ChatBubbleComponent } from '../../components/chat-bubble/chat-bubble.component';\n\nimport { ChatPage } from './chat.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatPageRoutingModule\n  ],\n  declarations: [ChatPage, ChatBubbleComponent],\n  entryComponents: [ChatBubbleComponent]\n})\nexport class ChatPageModule {}\n","export default \"ion-content {\\n  --ion-background-color: transparent;\\n}\\n\\nion-item {\\n  --ion-background-color: transparent;\\n}\\n\\n.chatPage {\\n  position: absolute;\\n  top: 25px;\\n  left: 140px;\\n  color: #ccc;\\n  font-size: 18px;\\n  text-transform: capitalize;\\n}\\n\\n.chatBackground {\\n  background-size: cover;\\n}\\n\\n.text-input-md,\\n.text-input-ios {\\n  text-align: left !important;\\n  font-size: 17px;\\n}\\n\\n.list-header-md,\\n.list-header-ios {\\n  padding-left: 16px;\\n  margin-bottom: 13px;\\n  min-height: 4.5rem;\\n  border-top: 1px solid #dedede;\\n  font-size: 2.4rem;\\n  color: #fff;\\n  background: transparent;\\n}\\n\\n.label-md,\\n.label-ios {\\n  margin: 0px !important;\\n}\\n\\n.item-md,\\n.item-ios {\\n  margin-top: -13px !important;\\n}\\n\\n.item-md.item-block .item-inner,\\n.item-ios.item-block .item-inner {\\n  border: none;\\n}\\n\\nion-footer {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  bottom: 0;\\n}\\n\\nbutton {\\n  background: transparent;\\n  font-size: 33px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC9DOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEFtb3JlRGF0aW5nQXBwXFxzb3VyY2Uvc3JjXFxhcHBcXHBhZ2VzXFxjaGF0XFxjaGF0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY2hhdC9jaGF0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBRztFQUNJLG1DQUFBO0FDQ1A7O0FERUc7RUFDSSxtQ0FBQTtBQ0NQOztBREVHO0VBQ0ksa0JBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsMEJBQUE7QUNDUDs7QURFRztFQUVJLHNCQUFBO0FDQVA7O0FER0c7O0VBRUksMkJBQUE7RUFDQSxlQUFBO0FDQVA7O0FER0c7O0VBRUksa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsNkJBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtBQ0FQOztBREdHOztFQUVJLHNCQUFBO0FDQVA7O0FER0c7O0VBRUksNEJBQUE7QUNBUDs7QURHRzs7RUFFSSxZQUFBO0FDQVA7O0FER0c7RUFDSSx3QkFBQTtFQUFBLGdCQUFBO0VBQ0EsU0FBQTtBQ0FQOztBREdHO0VBQ0ksdUJBQUE7RUFDQSxlQUFBO0FDQVAiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jaGF0L2NoYXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiICAgaW9uLWNvbnRlbnQge1xyXG4gICAgICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgIH1cclxuXHJcbiAgIGlvbi1pdGVtIHtcclxuICAgICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICB9XHJcblxyXG4gICAuY2hhdFBhZ2Uge1xyXG4gICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgdG9wOiAyNXB4O1xyXG4gICAgICAgbGVmdDogMTQwcHg7XHJcbiAgICAgICBjb2xvcjogI2NjYztcclxuICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICB9XHJcblxyXG4gICAuY2hhdEJhY2tncm91bmQge1xyXG4gICAgICAgLy8gYmFja2dyb3VuZC1pbWFnZTogdXJsKGFzc2V0cy9pbWdzL2NoYXRiZy5qcGcpO1xyXG4gICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgfVxyXG5cclxuICAgLnRleHQtaW5wdXQtbWQsXHJcbiAgIC50ZXh0LWlucHV0LWlvcyB7XHJcbiAgICAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbiAgICAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgIH1cclxuXHJcbiAgIC5saXN0LWhlYWRlci1tZCxcclxuICAgLmxpc3QtaGVhZGVyLWlvcyB7XHJcbiAgICAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XHJcbiAgICAgICBtYXJnaW4tYm90dG9tOiAxM3B4O1xyXG4gICAgICAgbWluLWhlaWdodDogNC41cmVtO1xyXG4gICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZWRlZGU7XHJcbiAgICAgICBmb250LXNpemU6IDIuNHJlbTtcclxuICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgIH1cclxuXHJcbiAgIC5sYWJlbC1tZCxcclxuICAgLmxhYmVsLWlvcyB7XHJcbiAgICAgICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xyXG4gICB9XHJcblxyXG4gICAuaXRlbS1tZCxcclxuICAgLml0ZW0taW9zIHtcclxuICAgICAgIG1hcmdpbi10b3A6IC0xM3B4ICFpbXBvcnRhbnQ7XHJcbiAgIH1cclxuXHJcbiAgIC5pdGVtLW1kLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIsXHJcbiAgIC5pdGVtLWlvcy5pdGVtLWJsb2NrIC5pdGVtLWlubmVyIHtcclxuICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgfVxyXG5cclxuICAgaW9uLWZvb3RlciB7XHJcbiAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gICAgICAgYm90dG9tOiAwO1xyXG4gICB9XHJcblxyXG4gICBidXR0b24ge1xyXG4gICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICBmb250LXNpemU6IDMzcHg7XHJcbiAgIH0iLCJpb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24taXRlbSB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uY2hhdFBhZ2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMjVweDtcbiAgbGVmdDogMTQwcHg7XG4gIGNvbG9yOiAjY2NjO1xuICBmb250LXNpemU6IDE4cHg7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xufVxuXG4uY2hhdEJhY2tncm91bmQge1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuXG4udGV4dC1pbnB1dC1tZCxcbi50ZXh0LWlucHV0LWlvcyB7XG4gIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDtcbiAgZm9udC1zaXplOiAxN3B4O1xufVxuXG4ubGlzdC1oZWFkZXItbWQsXG4ubGlzdC1oZWFkZXItaW9zIHtcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICBtYXJnaW4tYm90dG9tOiAxM3B4O1xuICBtaW4taGVpZ2h0OiA0LjVyZW07XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVkZWRlO1xuICBmb250LXNpemU6IDIuNHJlbTtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4ubGFiZWwtbWQsXG4ubGFiZWwtaW9zIHtcbiAgbWFyZ2luOiAwcHggIWltcG9ydGFudDtcbn1cblxuLml0ZW0tbWQsXG4uaXRlbS1pb3Mge1xuICBtYXJnaW4tdG9wOiAtMTNweCAhaW1wb3J0YW50O1xufVxuXG4uaXRlbS1tZC5pdGVtLWJsb2NrIC5pdGVtLWlubmVyLFxuLml0ZW0taW9zLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIge1xuICBib3JkZXI6IG5vbmU7XG59XG5cbmlvbi1mb290ZXIge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBib3R0b206IDA7XG59XG5cbmJ1dHRvbiB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBmb250LXNpemU6IDMzcHg7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { UserService } from '../../services/user/user.service';\nimport { MessagesService } from '../../services/messages/messages.service';\nimport { ToastController, NavController, Platform, LoadingController, IonContent, IonInput } from '@ionic/angular';\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit {\n    @ViewChild(IonContent, {static: false}) ionContent: IonContent;\n    @ViewChild('myInput', { static: false }) myInput: IonInput;\n    messages: any = [];\n    // @ViewChild(Content) content: Content;\n    // @ViewChild('chat_input') messageInput: TextInput;\n    // @ViewChild('myInput') myInput: ElementRef;\n    userId: string;\n    receiver: any = {};\n    message: any;\n    user: any;\n    sender: any = {};\n    editorMsg: string = '';\n    conversationId: any;\n    imageURI: any;\n    lastImage: any;\n    messagesFire: any = [];\n    firstMessage: boolean = false;\n    messageFired: boolean = false;\n    receiverPic: any;\n    keys: any = []\n    grouped: any = {}\n    scrollHeight: any;\n    chatBg: any = 'assets/imgs/chatbg.jpg'\n    uid: any;\n    name: any;\n\n  constructor(\n        private userService: UserService,\n        private platform: Platform,\n        private keyboard: Keyboard,\n   \t    private ngZone: NgZone,\n        private messagesService: MessagesService\n        ) { \n  \tthis.userService.currentUser.subscribe(user => {\n  \t\tthis.user = user;\n  \t})\n\n  }\n\n  ngOnInit() {\n        let cid = this.platform.getQueryParam(\"cid\");\n        this.uid = this.platform.getQueryParam(\"uid\");\n        this.name = this.platform.getQueryParam(\"name\");\n\n        this.messagesService.getMessages(cid);\n        this.messagesService.messageSeen(cid);\n        let that = this;\n        this.messagesService.messages.subscribe((data:any) => {\n        \tthis.grouped =data.messages\n        \tthis.keys =data.keys\n\n\t\t\tthis.ngZone.run(() => {\n\t\t\t  setTimeout(() => {\n\t\t\t    that.ionContent.scrollToBottom(300)\n\t\t\t  });\n\t\t\t}); \n        })\n  }\n\n    getDate(date) {\n        let d = new Date(date)\n        return d;\n    }\n\n    ionViewDidLoad(){\n      // var element = this.myInput['_elementRef'].nativeElement.getElementsByClassName(\"text-input\")[0];\n      // this.scrollHeight = element.scrollHeight;\n    }\n\n\t  resize() {\n\t      // var element = this.myInput['_elementRef'].nativeElement.getElementsByClassName(\"text-input\")[0];\n\t      // var scrollHeight = element.scrollHeight;\n\t      // element.style.height = scrollHeight + 'px';\n\t      // this.myInput['_elementRef'].nativeElement.style.height = (scrollHeight + 16) + 'px';\n\t  }\n\n\n    sendMsg() {\n    \tthis.keyboard.show();\n    \tthis.myInput.setFocus()\n    \tconsole.log(\"keyboard show\")\n        if (this.editorMsg.length != 0) {\n\n\n            this.messagesService.sendMsg(this.editorMsg, this.uid)\n            this.editorMsg = '';\n            this.myInput.setFocus()\n            this.ionContent.scrollToBottom(300);\n\n\n           //  const id = this.firestore.createId();\n           //  let t = new Date();\n           //  let message = { body: this.editorMsg, sender: this.sender.uid, receiver: this.receiver.uid, createdAt: new Date(), order: -t.getTime() }\n\n           //  let notifMessage = {\n           //      app_id: \"47e8fa75-a752-409a-8831-ed8892978107\",\n           //      headings: { \"en\": this.sender.name },\n           //      contents: { \"en\": this.editorMsg },\n           //      data: { \"id\": this.sender.uid, \"name\": this.sender.name },\n           //      android_group: this.sender.uid,\n           //      filters: [\n           //          { \"field\": \"tag\", \"key\": \"userID\", \"relation\": \"=\", \"value\": this.receiver.uid }\n           //      ]\n           //  };\n\n           //  this.sendNotification(notifMessage)\n\n           //  this.firestore.collection('messages').doc(this.conversationId).collection('chat').doc(id).set(message)\n           // // if (this.firstMessage == true) {\n\n           //      this.firestore.collection('userLastMessages').doc(this.sender.uid).collection('allchats').doc(this.conversationId).update({ id: this.conversationId, uid: this.receiver.uid, name: this.receiver.name, lastMessage: this.editorMsg, createdAt: new Date(), order: -t.getTime()  })\n\n           //      this.firestore.collection('userLastMessages').doc(this.receiver.uid).collection('allchats').doc(this.conversationId).set({ id: this.conversationId,  image: this.sender.photos[0], uid: this.sender.uid, name: this.sender.name, lastMessage: this.editorMsg, createdAt: new Date(), order: -t.getTime() , read: false })\n\n           //      this.scrollToBottom();\n           //  this.editorMsg = '';\n\n\n           //    var element = this.myInput['_elementRef'].nativeElement.getElementsByClassName(\"text-input\")[0];\n           //    element.style.height = this.scrollHeight + 'px';\n           //    this.myInput['_elementRef'].nativeElement.style.height = this.scrollHeight + 'px';\n\n           //    this.messageInput.setFocus();\n        }\n    }\n\n    sendNotification(data) {\n        // let headers = new Headers({\n        //     \"Content-Type\": \"application/json; charset=utf-8\",\n        //     \"Authorization\": \"Basic ZDY1OWU4MzMtYTA3Ny00YTY0LTk2YTAtMmE0ZWEwMzQxMjZh\"\n        // });\n\n        // let options = new RequestOptions({ headers: headers });\n\n        // this.http.post('https://onesignal.com/api/v1/notifications', data, options)\n        //     .subscribe(resp => {\n        //         console.log(resp);\n        //     }, err => {\n        //         console.log(err);\n        //     })\n    };\n\n    scrollToBottom() {\n        // setTimeout(() => {\n        //     if (this.content._scroll) {\n        //         this.content.scrollToBottom(600);\n        //     }\n        // }, 40)\n    }\n\n    textChange() {\n        // if (this.editorMsg.length != 0) {\n        //     this.events.publish('typing')\n        // }\n    }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-chat-chat-module-es5.js"}