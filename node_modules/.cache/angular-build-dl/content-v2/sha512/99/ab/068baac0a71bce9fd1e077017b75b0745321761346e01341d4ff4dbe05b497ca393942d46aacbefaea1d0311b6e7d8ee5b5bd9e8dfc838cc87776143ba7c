{"version":3,"sources":["src/app/pages/messages/messages.page.html","src/app/pages/messages/messages-routing.module.ts","src/app/pages/messages/messages.module.ts","src/app/pages/messages/messages.page.scss","src/app/pages/messages/messages.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header no-border>\\n  <ion-toolbar color=\\\"red\\\" style=\\\"padding-top:20px !important;\\\">\\n    <ion-title>Messages</ion-title>\\n  </ion-toolbar>\\n    <ion-toolbar mode=\\\"ios\\\" color=\\\"red\\\">\\n        <ion-searchbar (ionInput)=\\\"getItems($event)\\\" mode=\\\"ios\\\" showCancelButton=\\\"focus\\\"></ion-searchbar>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n      <div class=\\\"diag\\\" *ngIf=\\\"messagesDB.length == 0\\\">\\n        <img style=\\\"padding: 30% 40% 0 40%;color: var(--ion-color-red);\\\" src=\\\"assets/imgs/speech-bubble.svg\\\">\\n        <p style=\\\"color:var(--ion-color-red)\\\">You have no messages!</p>\\n      </div>\\n      <ion-list mode=\\\"ios\\\">\\n\\n        <ion-item (click)=\\\"openChat(message)\\\" *ngFor=\\\"let message of messagesDB\\\" class=\\\"messageBox\\\" [ngClass]=\\\"getBorder(message)\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <img [src]=\\\"message.image\\\">\\n          </ion-avatar>\\n          <ion-label>\\n            <h2>{{message.name}}</h2>\\n            <p>{{message.lastMessage}}</p>\\n          </ion-label>\\n          <ion-note slot=\\\"end\\\">\\n          \\t\\t{{timeDifference(message.createdAt.toDate())}} ago\\n          </ion-note>\\n        </ion-item>\\n\\n<!--         <ion-item mode=\\\"ios\\\" *ngFor=\\\"let message of messagesDB\\\" (click)=\\\"openChat(message)\\\" class='message' [ngStyle]=\\\"{'background-color':message.read == true ? '#ffffff' : '#f1f1f1' }\\\">\\n          <ion-thumbnail mode=\\\"ios\\\" item-start>\\n            <img [src]=\\\"message.image\\\">\\n    </ion-thumbnail>\\n            <div>\\n              <div style=\\\"float: left;color:teal;font-size: 18px;line-height: 20px;\\\" text-capitalize>\\n                {{message.name}}\\n              </div>\\n              <div style=\\\"float: right;color:#ccc;font-size: 14px;line-height: 20px;\\\">\\n                {{timeDifference(message.createdAt.toDate())}} ago\\n              </div>\\n            </div>\\n            <div style=\\\"clear: both;color:#222; font-size: 16px;width: 100%;overflow: hidden;text-overflow: ellipsis;height: 25px;white-space: nowrap;\\\">\\n              {{message.lastMessage}}\\n            </div>\\n        </ion-item> -->\\n      </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MessagesPage } from './messages.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessagesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MessagesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessagesPageRoutingModule } from './messages-routing.module';\nimport { MessagesPage } from './messages.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MessagesPageRoutingModule\n  ],\n  declarations: [MessagesPage]\n})\nexport class MessagesPageModule {}\n","export default \".diag {\\n  position: absolute;\\n  z-index: 1;\\n  top: 0;\\n  height: 76%;\\n  text-align: center;\\n}\\n\\nh2 {\\n  margin-top: 0px !important;\\n}\\n\\np {\\n  white-space: normal;\\n}\\n\\n.noBorder {\\n  border-left: 3px solid white;\\n}\\n\\n.border {\\n  border-left: 3px solid gray;\\n}\\n\\n.messageBox {\\n  padding: 5px;\\n}\\n\\n.messageBox h2 {\\n  color: teal;\\n}\\n\\n.messageBox ion-note {\\n  font-size: 13px;\\n}\\n\\n.card-content-md,\\n.card-content-ios {\\n  padding: 0px !important;\\n  background-color: #525b56;\\n}\\n\\n.message {\\n  color: #f8f8f8 !important;\\n  margin-bottom: 10px;\\n  border-bottom: 1px solid #ccc !important;\\n}\\n\\n.ptext {\\n  font-size: 17px;\\n  line-height: 20px;\\n  /* Height / no. of lines to display */\\n  overflow: hidden;\\n  padding: 0px 20px;\\n}\\n\\n.ptext img {\\n  height: 200px !important;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  border-radius: 3px;\\n  width: 100%;\\n  margin-top: 10px;\\n  box-shadow: 0px 0px 2px 0px rgba(0, 0, 0, 0.75);\\n}\\n\\n.label-md,\\n.label-ios {\\n  margin-bottom: 0px;\\n}\\n\\nion-card {\\n  box-shadow: none;\\n}\\n\\n.postLiked {\\n  color: #2574a9;\\n}\\n\\n.postNotLiked {\\n  color: #cccccc;\\n}\\n\\nimg {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  border-radius: 3px !important;\\n}\\n\\n.feed {\\n  border-bottom: 0px solid #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWVzc2FnZXMvQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxBbW9yZURhdGluZ0FwcFxcc291cmNlL3NyY1xcYXBwXFxwYWdlc1xcbWVzc2FnZXNcXG1lc3NhZ2VzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbWVzc2FnZXMvbWVzc2FnZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBRUEsTUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0FKOztBREdFO0VBQ0UsMEJBQUE7QUNBSjs7QURHRTtFQUNFLG1CQUFBO0FDQUo7O0FER0U7RUFFRSw0QkFBQTtBQ0RKOztBREdFO0VBRUUsMkJBQUE7QUNESjs7QURLRTtFQUNFLFlBQUE7QUNGSjs7QURLRTtFQUNFLFdBQUE7QUNGSjs7QURLRTtFQUNFLGVBQUE7QUNGSjs7QURLRTs7RUFFRSx1QkFBQTtFQUNBLHlCQUFBO0FDRko7O0FES0U7RUFDRSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esd0NBQUE7QUNGSjs7QURLRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHFDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQ0ZKOztBRElJO0VBQ0Usd0JBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQ0FBQTtBQ0ZOOztBRE9FOztFQUVFLGtCQUFBO0FDSko7O0FET0U7RUFDRSxnQkFBQTtBQ0pKOztBRE9FO0VBQ0UsY0FBQTtBQ0pKOztBRE9FO0VBQ0UsY0FBQTtBQ0pKOztBRE9FO0VBQ0Usb0JBQUE7S0FBQSxpQkFBQTtFQUNBLDZCQUFBO0FDSko7O0FET0U7RUFDRSw2QkFBQTtBQ0pKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbWVzc2FnZXMvbWVzc2FnZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiICAuZGlhZyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gICAgLy8gd2lkdGg6IGNhbGMoMTAwJSAtIDM0cHgpO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgaGVpZ2h0OiA3NiU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICBoMiB7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIHAge1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcclxuICB9XHJcblxyXG4gIC5ub0JvcmRlclxyXG4gIHtcclxuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgd2hpdGU7XHJcbiAgfVxyXG4gIC5ib3JkZXJcclxuICB7XHJcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIGdyYXk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLm1lc3NhZ2VCb3gge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gIH1cclxuXHJcbiAgLm1lc3NhZ2VCb3ggaDIge1xyXG4gICAgY29sb3I6dGVhbFxyXG4gIH1cclxuXHJcbiAgLm1lc3NhZ2VCb3ggaW9uLW5vdGUge1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gIH1cclxuXHJcbiAgLmNhcmQtY29udGVudC1tZCxcclxuICAuY2FyZC1jb250ZW50LWlvcyB7XHJcbiAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1MjViNTY7XHJcbiAgfVxyXG5cclxuICAubWVzc2FnZSB7XHJcbiAgICBjb2xvcjogI2Y4ZjhmOCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAucHRleHQge1xyXG4gICAgZm9udC1zaXplOiAxN3B4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICAvKiBIZWlnaHQgLyBuby4gb2YgbGluZXMgdG8gZGlzcGxheSAqL1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBhZGRpbmc6IDBweCAyMHB4O1xyXG5cclxuICAgIGltZyB7XHJcbiAgICAgIGhlaWdodDogMjAwcHggIWltcG9ydGFudDtcclxuICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIC5sYWJlbC1tZCxcclxuICAubGFiZWwtaW9zIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDBweDtcclxuICB9XHJcblxyXG4gIGlvbi1jYXJkIHtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAucG9zdExpa2VkIHtcclxuICAgIGNvbG9yOiAjMjU3NGE5O1xyXG4gIH1cclxuXHJcbiAgLnBvc3ROb3RMaWtlZCB7XHJcbiAgICBjb2xvcjogI2NjY2NjYztcclxuICB9XHJcblxyXG4gIGltZyB7XHJcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmZlZWQge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMHB4IHNvbGlkICNjY2M7XHJcbiAgfVxyXG5cclxuIiwiLmRpYWcge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDE7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiA3NiU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaDIge1xuICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcbn1cblxucCB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59XG5cbi5ub0JvcmRlciB7XG4gIGJvcmRlci1sZWZ0OiAzcHggc29saWQgd2hpdGU7XG59XG5cbi5ib3JkZXIge1xuICBib3JkZXItbGVmdDogM3B4IHNvbGlkIGdyYXk7XG59XG5cbi5tZXNzYWdlQm94IHtcbiAgcGFkZGluZzogNXB4O1xufVxuXG4ubWVzc2FnZUJveCBoMiB7XG4gIGNvbG9yOiB0ZWFsO1xufVxuXG4ubWVzc2FnZUJveCBpb24tbm90ZSB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuLmNhcmQtY29udGVudC1tZCxcbi5jYXJkLWNvbnRlbnQtaW9zIHtcbiAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1MjViNTY7XG59XG5cbi5tZXNzYWdlIHtcbiAgY29sb3I6ICNmOGY4ZjggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2MgIWltcG9ydGFudDtcbn1cblxuLnB0ZXh0IHtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgLyogSGVpZ2h0IC8gbm8uIG9mIGxpbmVzIHRvIGRpc3BsYXkgKi9cbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcGFkZGluZzogMHB4IDIwcHg7XG59XG4ucHRleHQgaW1nIHtcbiAgaGVpZ2h0OiAyMDBweCAhaW1wb3J0YW50O1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAycHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG59XG5cbi5sYWJlbC1tZCxcbi5sYWJlbC1pb3Mge1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG5cbmlvbi1jYXJkIHtcbiAgYm94LXNoYWRvdzogbm9uZTtcbn1cblxuLnBvc3RMaWtlZCB7XG4gIGNvbG9yOiAjMjU3NGE5O1xufVxuXG4ucG9zdE5vdExpa2VkIHtcbiAgY29sb3I6ICNjY2NjY2M7XG59XG5cbmltZyB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBib3JkZXItcmFkaXVzOiAzcHggIWltcG9ydGFudDtcbn1cblxuLmZlZWQge1xuICBib3JkZXItYm90dG9tOiAwcHggc29saWQgI2NjYztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { UserService } from '../../services/user/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.page.html',\n  styleUrls: ['./messages.page.scss'],\n})\nexport class MessagesPage implements OnInit {\n    segment: any = 'messages'\n    user: any = {};\n    allNearbyPosts: any = [];\n    allPosts: any = [];\n    post: any;\n    currentUser: any = {};\n    filteredPost: any;\n    messages: any = [];\n    messagesDB: any = [];\n    realMessagesDB: any = [];\n    blockedUsers: any = [];\n    searchTerm: any;\n\n  constructor(\n        private statusBar: StatusBar,\n        private userService: UserService,\n        private router: Router\n    ) {\n        this.userService.currentUser\n            .subscribe((user: any) => {\n                this.user = user;\n            })\n     }\n\n  ngOnInit() {\n            this.messageData()\n  }\n\n    ionViewDidLoad() {\n\n\n                // this.userProvider.getBlockedUsers().subscribe((data:any) => {\n                //     let Posts = this.allPosts.filter(function(post){\n                //         if(data.hasOwnProperty('disliked'))\n                //         if (data.disliked.indexOf(post['userId']) == -1) return post;\n                //     })\n\n                //     that.allNearbyPosts = _.without(Posts, undefined)\n\n                // })\n\n\n\n    }\n\n    messageData(){\n        let that = this;\n        this.userService.messages\n        .subscribe((messages) => {\n          this.messagesDB = messages;\n          this.realMessagesDB = messages;\n          console.log(\"messages \", messages)\n        // this.userService.getBlockedUsers().subscribe((data:any) => {\n        //     that.blockedUsers = data;\n        //     that.realMessagesDB = _.map(messages, function(message) {\n        //         if(data.hasOwnProperty('disliked'))\n        //        if (data.disliked.indexOf(message['uid']) == -1) return message;\n        //     });\n\n        //     that.realMessagesDB = _.without(that.realMessagesDB, undefined)\n        //     that.messagesDB = Array.from(that.realMessagesDB);\n\n        // })\n        })\n    }\n\n\n\n    getClass(post) {\n        let index = post.likes.indexOf(this.user.uid)\n        if (index >= 0) {\n            return 'postLiked'\n        } else {\n            return 'postNotLiked'\n        }\n    }\n\n    segmentChanged(ev) {\n    }\n\n\n    upgrade() {\n         // let modal = this.modalCtrl.create(UpgradePage, {}, { cssClass: 'mymodal' });\n         // modal.present();\n    }\n\n\n    getItems(ev) {\n        let name = ev.target.value;\n        this.messagesDB = this.realMessagesDB.filter(res => res.name.toLowerCase().indexOf(name.toLowerCase()) >= 0)\n            if (name.length == 0)\n            this.messagesDB = Array.from(this.realMessagesDB);\n    }\n\n    openChat(message) {\n    this.router.navigateByUrl('/chat/' + '?cid=' + message.id + '&uid=' + message.uid + '&name=' + message.name);\n    // const animationsOptions = {\n    //   animation: 'ios-transition',\n    //   duration: 600\n    // }  \n    //    if(this.blockedUsers.liked.indexOf(receiver.uid) > -1)\n    //    receiver.liked = true;      \n\n   //console.log(\"open chat \", receiver)\n       // this.app.getRootNav().push(ChatPage, { user: receiver }, animationsOptions)\n    }\n\n    parseText(text) {\n        if (text.length > 50)\n            return text.substring(0, 99) + '...'\n        else\n            return text;\n    }\n\n    getBorder(message){\n        if(message.read)\n            return 'noBorder'\n        else\n            return 'border'\n    }\n\n\n    timeDifference(previous) {\n        let d = new Date();\n        let current = d.getTime();\n        var msPerMinute = 60 * 1000;\n        var msPerHour = msPerMinute * 60;\n        var msPerDay = msPerHour * 24;\n        var msPerMonth = msPerDay * 30;\n        var msPerYear = msPerDay * 365;\n\n        let p = new Date(previous)\n        previous = p.getTime();\n\n        var elapsed = current - previous;\n\n        if (elapsed < msPerMinute) {\n            return Math.round(elapsed / 1000) + ' secs';\n        } else if (elapsed < msPerHour) {\n            return Math.round(elapsed / msPerMinute) + ' mins';\n        } else if (elapsed < msPerDay) {\n            return Math.round(elapsed / msPerHour) + ' hrs';\n        } else if (elapsed < msPerMonth) {\n            return Math.round(elapsed / msPerDay) + ' days';\n        } else if (elapsed < msPerYear) {\n            return Math.round(elapsed / msPerMonth) + ' months';\n        } else {\n            return Math.round(elapsed / msPerYear) + ' years';\n        }\n    }\n}\n"],"sourceRoot":"webpack:///","file":"pages-messages-messages-module-es5.js"}